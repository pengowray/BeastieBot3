# Wikipedia list definitions for the new generator.
# This file references taxa-groups.yml and list-presets.yml for a cleaner, more maintainable structure.
#
# Syntax options:
# 1. Compact multi-preset: taxa_group + presets array → generates one list per preset
# 2. Single preset: taxa_group + preset → generates one list
# 3. Full definition: specify all fields explicitly (for custom lists)

defaults:
  header_template: status-default
  footer_template: references-default
  grouping:
    - level: order
      label: "Order"
      always_display: false
      unknown_label: "Other orders"
    - level: family
      label: "Family"
      always_display: false
      unknown_label: "Unassigned families"
  display:
    prefer_common_names: true
    italicize_scientific: true
    include_status_template: true
    include_status_label: true

lists:
  # ==================== AMPHIBIANS ====================
  - taxa_group: amphibians
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]
    templates:
      header: amphibians-status

  # ==================== BIRDS ====================
  - taxa_group: birds
    presets: [ex, ew, cr, en, vu, nt, lc, dd, threatened]

  # ==================== REPTILES ====================
  - taxa_group: reptiles
    presets: [ex, ew, cr, en, vu, nt, lc, dd, threatened]

  # ==================== MAMMALS ====================
  - taxa_group: mammals
    presets: [ex, ew, cr, en, vu, nt, lc, dd, threatened]

  # ==================== MARINE MAMMALS (paraphyletic) ====================
  - taxa_group: marine-mammals
    presets: [ex, ew, cr, en, vu, nt, lc, dd, threatened, all-status]

  # ==================== RAY-FINNED FISHES ====================
  - taxa_group: ray-finned-fishes
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== SHARKS & RAYS ====================
  - taxa_group: sharks-rays
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== INSECTS ====================
  - taxa_group: insects
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== GASTROPODS ====================
  - taxa_group: gastropods
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== BIVALVES ====================
  - taxa_group: bivalves
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== CRUSTACEANS ====================
  - taxa_group: crustaceans
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== CORALS ====================
  - taxa_group: corals
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== ARACHNIDS ====================
  - taxa_group: arachnids
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== PLANTS ====================
  - taxa_group: plants
    presets: [ex, ew, cr, en, vu, nt, lc, dd, threatened]

  # ==================== CONIFERS ====================
  - taxa_group: conifers
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== CYCADS ====================
  - taxa_group: cycads
    presets: [ex, cr, en, vu, nt, lc, dd, threatened]

  # ==================== CHROMISTA ====================
  - taxa_group: chromista
    presets: [all-status]

  # ==================== FUNGI ====================
  - taxa_group: fungi
    presets: [all-status, ex, cr, en, vu, threatened]

  # ==================== SPECIAL CROSS-TAXA LISTS ====================
  # These don't fit the taxa_group + preset pattern, so are defined explicitly

  - id: ew-animals
    title: "List of animals that are extinct in the wild"
    description: "Animal taxa with an EW status."
    output_file: "List_of_animals_that_are_extinct_in_the_wild.wikitext"
    filters:
      - rank: kingdom
        value: Animalia
    sections:
      - key: extinct-in-the-wild
        heading: "Extinct in the wild"
        statuses:
          - code: EW
          - code: "CR(PEW)"
            label: "Possibly extinct in the wild"

  - id: ew-plants
    title: "List of plants that are extinct in the wild"
    description: "Plant taxa with an EW assessment."
    output_file: "List_of_plants_that_are_extinct_in_the_wild.wikitext"
    filters:
      - rank: kingdom
        value: Plantae
    sections:
      - key: extinct-in-the-wild
        heading: "Extinct in the wild"
        statuses:
          - code: EW
          - code: "CR(PEW)"
            label: "Possibly extinct in the wild"

  - id: lr-cd
    title: "IUCN Red List conservation dependent species"
    description: "Legacy LR/cd assessments across every kingdom."
    output_file: "IUCN_Red_List_conservation_dependent_species.wikitext"
    templates:
      header: legacy-status-note
    sections:
      - key: conservation-dependent
        heading: "Conservation dependent"
        statuses:
          - code: "LR/cd"
  # ==================== TEST: COL ENRICHED GROUPING ====================
  # This tests the COL-based taxonomy enrichment with superfamily-level grouping
  - id: test-reptiles-ex-enriched
    title: "Test: Extinct reptiles with COL superfamily grouping"
    description: "Testing COL taxonomy enrichment for finer-grained grouping."
    output_file: "Test_extinct_reptiles_col_enriched.wikitext"
    filters:
      - rank: kingdom
        value: Animalia
      - rank: class
        value: Reptilia
    sections:
      - key: extinct
        heading: "Extinct species"
        statuses:
          - code: EX
    grouping:
      - level: order
        label: "Order"
        always_display: false
        unknown_label: "Other orders"
      - level: superfamily
        label: "Superfamily"
        always_display: false
        unknown_label: "Other superfamilies"
      - level: family
        label: "Family"
        always_display: false
        unknown_label: "Unassigned families"
  # ==================== TEST: MIN_ITEMS / OTHER GROUPING ====================
  # Tests merging small family groups into "Other families"
  - id: test-mammals-ex-minitems
    title: "Test: Extinct mammals with min_items grouping"
    description: "Testing min_items to merge small families into Other."
    output_file: "Test_extinct_mammals_minitems.wikitext"
    filters:
      - rank: kingdom
        value: Animalia
      - rank: class
        value: Mammalia
    sections:
      - key: extinct
        heading: "Extinct species"
        statuses:
          - code: EX
    grouping:
      - level: order
        label: "Order"
        always_display: false
        unknown_label: "Other orders"
      - level: family
        label: "Family"
        always_display: false
        unknown_label: "Unassigned families"
        min_items: 3
        other_label: "Other families"

  # ==================== TEST: SUBSPECIES GROUPING ====================
  # Tests grouping subspecies under their parent species
  - id: test-mammals-ex-subspecies
    title: "Test: Extinct mammals with subspecies grouping"
    description: "Testing subspecies grouping under parent species."
    output_file: "Test_extinct_mammals_subspecies.wikitext"
    filters:
      - rank: kingdom
        value: Animalia
      - rank: class
        value: Mammalia
    sections:
      - key: extinct
        heading: "Extinct species and subspecies"
        statuses:
          - code: EX
    grouping:
      - level: order
        label: "Order"
        always_display: false
        unknown_label: "Other orders"
      - level: family
        label: "Family"
        always_display: false
        unknown_label: "Unassigned families"
    display:
      prefer_common_names: true
      italicize_scientific: true
      include_status_template: true
      include_status_label: true
      group_subspecies: true